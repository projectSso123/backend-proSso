(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9878:function(e,n,t){Promise.resolve().then(t.bind(t,9952))},9952:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var i=t(3827),a=t(9712),o=t(6093);function r(){let e=(0,o._)(["\n  padding:10px;\n  min-height: 70vh;\n  width:50vw;\n  background-color:rgba(255,255,255, 0.25);\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  border-radius:12px;\n  margin:40px auto;\n  padding:5px;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: 25px 30% 50%;\n align-items: center;\n  @media (max-width: 700px) {\n    width:90vw;\n    margin: 50px auto;\n    height: 60vh;\n}\n  @media (max-width: 1024px) {\n    width:80vw;\n    margin: 50px auto;\n    height: 60vh;\n}\n\n"]);return r=function(){return e},e}function s(){let e=(0,o._)(["\n  width: 100%;\n  grid-row: 3; \n  display: flex;\n  \n  flex-direction: column;\n  align-items: center;\n  gap:20px;\n  justify-content:flex-start;\n"]);return s=function(){return e},e}function l(){let e=(0,o._)(["\n width: 100%;\n font-weight: 900;\n grid-row: 2; \n\n\n  text-align: center;\n\n  color: whitesmoke;\n  font-size: 28px;\n"]);return l=function(){return e},e}function c(){let e=(0,o._)(["\ncolor:rgba(255,255,255, 0.50);;\nfont-size: small;\ndisplay: block;\nwidth: 100%;\ntext-align: end;\nborder-bottom: 1px solid gray;\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\nheight: 50px;\npadding-left: 5px;\nbox-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\nborder-radius: 5px;\nwidth: 50%;\ncolor:whitesmoke;\nfont-weight: 600;\nbackground:rgba(255,255,255, 0.40);\n&::placeholder{\n    font-weight: 400;\n    padding:5px;\n    color:rgba(255,255,255, 0.50);\n}\n&:focus{\n    outline: none;\n}\n\n@media (max-width: 500px) {\n    width:90%;\n}\n\n"]);return d=function(){return e},e}function h(){let e=(0,o._)(["\nwidth: 50%;\npadding: 5px;\nbackground: rgb(101,122,171);\nbackground: linear-gradient(90deg, rgba(101,122,171,1) 0%, rgba(137,69,168,1) 48%, rgba(255,121,87,1) 89%);\nheight: 50px;\ncolor:whitesmoke;\nbox-shadow: 0 0 15px rgba(0, 0, 0, 0.5);\ntransition: transform 0.1s ease;\n@media (max-width: 500px) {\n    width:90%;\n    \n}\n&:active{\n    transform: scale(0.95);\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n}\n"]);return h=function(){return e},e}function u(){let e=(0,o._)(["\nwidth: 50%;\nheight: 100%;\ndisplay: flex;\nflex-direction: column;\nmargin:10px auto;\n"]);return u=function(){return e},e}function g(){let e=(0,o._)(["\nmargin-top: 4px;\nwidth: 100%;\nheight:40px;\nbackground:rgba(255,255,255,0.3);\ndisplay: flex;\nflex-direction: column;\nborder-radius:5px;\n"]);return g=function(){return e},e}let p=a.ZP.div(r()),m=a.ZP.form(s()),x=a.ZP.h1(l()),w=a.ZP.label(c()),f=a.ZP.input(d()),j=a.ZP.button(h()),b=a.ZP.div(u()),y=a.ZP.div(g());var k=t(4090),S=t(7907);let C={dark:{primary:"black",text:"white"},light:{primary:"white",text:"black"}};function v(){let[e,n]=(0,k.useState)(1),[t,o]=(0,k.useState)(),[r,s]=(0,k.useState)(!1),l=async()=>{try{let e=await fetch("http://localhost:8080/api/v1/getusers",{method:"POST",mode:"cors",credentials:"include"});if(e.ok){console.log(e);let n=await e.json();n&&o(n)}}catch(e){console.log(e)}};return(0,k.useEffect)(()=>{l()},[r]),(0,i.jsx)(a.f6,{theme:C,children:t?(0,i.jsx)(O,{data:t}):2===e?(0,i.jsx)(_,{handleSignup:e=>{n(1)},setdisplay:n}):1===e&&(0,i.jsx)(P,{setdisplay:n,setLoggedin:s})})}function P(e){let{setdisplay:n,setLoggedin:t}=e;(0,S.useRouter)();let[a,o]=(0,k.useState)({email:"",password:""}),[r,s]=(0,k.useState)(""),[l,c]=(0,k.useState)(""),[d,h]=(0,k.useState)();(0,k.useEffect)(()=>{let e=new URLSearchParams(window.location.search),n=e.get("redirect_uri"),t=e.get("client_id");h(e.get("state")),s(n),c(t)},[]);let u=e=>{o({...a,[e.target.name]:e.target.value})},g=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:8080/api/v1/signin",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.password,state:d})});e.ok?(await e.json(),t(!0)):(console.log("failed"),alert(e.message))}catch(e){console.log(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p,{children:[(0,i.jsx)(w,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"Login"}),(0,i.jsxs)(m,{children:[(0,i.jsx)(f,{placeholder:"email",name:"email",onChange:u}),(0,i.jsx)(f,{placeholder:"password",name:"password",onChange:u}),(0,i.jsx)(j,{onClick:g,children:"Proceed"})]})]}),(0,i.jsx)(j,{onClick:()=>{n(2)},children:"Proceed"}),"this is button",(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"rohanb@gmail.com"})});e.ok&&console.log(await e.JSON())},children:" Click me"}),(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"rohankir@gmail.com"})});e.ok&&console.log(await e.JSON())},children:" Click me"}),(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/getusers",{method:"POST",mode:"cors",credentials:"include"});e.ok&&console.log(await e.JSON())},children:" Click me"})]})}function _(e){let{handleSignup:n,setdisplay:t}=e,[a,o]=(0,k.useState)(1),r=()=>o(a+1),[s,l]=(0,k.useState)(""),[c,d]=(0,k.useState)(""),[h,u]=(0,k.useState)(""),[g,b]=(0,k.useState)(""),[y,S]=(0,k.useState)(""),[C,v]=(0,k.useState)("");return(0,k.useEffect)(()=>{g!=y?v("password not matching"):g.length&&y.length&&v("password matched")},[y]),(0,i.jsxs)(p,{children:[(0,i.jsx)(w,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"SignUp"}),(0,i.jsxs)(m,{children:[a<=1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{placeholder:"name",onChange:e=>{l(e.target.value)},required:!0}),(0,i.jsx)(f,{placeholder:"username",onChange:e=>{d(e.target.value)},required:!0}),(0,i.jsx)(j,{type:"submit",onClick:r,children:"Continue"})]}),2===a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{type:"email",placeholder:"email",onChange:e=>{u(e.target.value)},required:!0}),(0,i.jsx)(j,{type:"submit",onClick:r,children:"Continue"})]}),3===a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{type:"password",placeholder:"password",onChange:e=>{b(e.target.value)},required:!0}),(0,i.jsx)(f,{type:"password",placeholder:"re-enter password",onChange:e=>{S(e.target.value)},required:!0}),(0,i.jsx)("span",{children:C}),(0,i.jsx)(j,{type:"submit",onClick:()=>{n(1)},children:"Continue"})]})]})]})}function O(e){let{data:n}=e,t=new URLSearchParams(window.location.search).get("redirect_uri"),a=async e=>{try{let n=await fetch("http://localhost:8080/api/v1/getauthcode",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})});if(n.ok){let e=await n.json();console.log("pohoch gaya"),t?window.location.href="".concat(t,"?").concat(new URLSearchParams({code:e})):router.push("/dashboard")}else alert("something went wrong")}catch(e){}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(p,{children:[(0,i.jsx)(w,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"Choose Account"}),(0,i.jsx)(b,{children:(0,i.jsxs)(y,{onClick:()=>{a(n)},children:[(0,i.jsx)("span",{className:"tileUsername",children:n.username}),(0,i.jsx)("span",{className:"tileEmail",children:n.email})]})})]})})}}},function(e){e.O(0,[182,971,69,744],function(){return e(e.s=9878)}),_N_E=e.O()}]);