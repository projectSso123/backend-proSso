(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9878:function(e,n,t){Promise.resolve().then(t.bind(t,9952))},9952:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var i=t(3827),a=t(9712),o=t(6093);function r(){let e=(0,o._)(["\n  padding:10px;\n  height: 80vh;\n  width:50vw;\n  background-color:rgba(255,255,255);\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  border-radius:12px;\n  margin:40px auto;\n  padding:5px;\n  display:flex;\n  align-items: center;\n  flex-direction: column;\n align-items: center;\n  @media (max-width: 700px) {\n    width:90vw;\n    margin: 50px auto;\n    /* min-height: 60vh; */\n}\n  @media (max-width: 1024px) {\n    width:80vw;\n    margin: 50px auto;\n    /* height: 60vh; */\n}\n\n"]);return r=function(){return e},e}function s(){let e=(0,o._)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content:center;\n  gap:20px;\n  height: 60vh;\n"]);return s=function(){return e},e}function l(){let e=(0,o._)(["\n width: 100%;\n font-weight: 900;\n grid-row: 2; \n color:rgb(242,101,84);\n text-align: center;\n font-size: 28px;\n"]);return l=function(){return e},e}function c(){let e=(0,o._)(["\n\nfont-size: small;\ndisplay: block;\nwidth: 100%;\ntext-align: end;\nborder-bottom: 1px solid gray;\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\nheight: 50px;\npadding-left: 5px;\nbox-shadow: 0 0 4px rgba(0, 0, 0, 0.5);\nborder-radius: 5px;\nwidth: 50%;\n\nfont-weight: 600;\nbackground:rgba(255,255,255, 0.40);\n&::placeholder{\n    font-weight: 400;\n    padding:5px;\n    color:gray;\n}\n&:focus{\n    outline: none;\n}\n\n@media (max-width: 500px) {\n    width:90%;\n}\n\n"]);return d=function(){return e},e}function h(){let e=(0,o._)(["\nwidth: 25%;\npadding: 5px;\nborder-radius:12px;\nbackground:rgb(242,101,84);\nheight: 40px;\ncolor:white;\nfont-weight: bold;\nbox-shadow: 0 0 15px rgba(0, 0, 0, 0.5);\ntransition: transform 0.1s ease;\n@media (max-width: 500px) {\n    width:90%;\n    \n}\n&:active{\n    transform: scale(0.95);\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n}\n"]);return h=function(){return e},e}function u(){let e=(0,o._)(["\nwidth: 50%;\nheight: 70%;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nmargin:30px auto;\n"]);return u=function(){return e},e}function p(){let e=(0,o._)(["\nmargin-top: 4px;\nwidth: 70%;\nheight:40px;\nbackground: rgba(0, 0, 0, 0.2);\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nborder-radius:5px;\n"]);return p=function(){return e},e}let g=a.ZP.div(r()),m=a.ZP.form(s()),x=a.ZP.h1(l()),f=a.ZP.label(c()),w=a.ZP.input(d()),j=a.ZP.button(h()),y=a.ZP.div(u()),b=a.ZP.div(p());var S=t(4090),k=t(7907);t(4612);let v={dark:{primary:"black",text:"white"},light:{primary:"white",text:"black"}};function C(){let[e,n]=(0,S.useState)(1),[t,o]=(0,S.useState)(),[r,s]=(0,S.useState)(!1),[l,c]=(0,S.useState)(!1),d=async e=>{try{(await fetch("http://localhost:8080/api/v1/verfiyclient",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&c(!0)}catch(e){}},h=async()=>{try{let e=await fetch("http://localhost:8080/api/v1/getusers",{method:"POST",mode:"cors",credentials:"include"});if(e.ok){console.log(e);let n=await e.json();n&&o(n)}}catch(e){console.log(e)}};return((0,S.useEffect)(()=>{let e=new URLSearchParams(window.location.search),n=e.get("redirect_uri"),t=e.get("client_id"),i=e.get("response_type"),a=e.get("scope"),o=e.get("state");null==n&&null==t&&null==i&&null==a&&null==o?c(!0):d({urlParams:e,redirect_uri:n,client_id:t,response_type:i,scope:a,state:o}),h()},[r]),l)?(0,i.jsx)(a.f6,{theme:v,children:t?(0,i.jsx)(O,{data:t}):2===e?(0,i.jsx)(N,{handleSignup:e=>{n(1)},setdisplay:n}):1===e&&(0,i.jsx)(_,{setdisplay:n,setLoggedin:s})}):(0,i.jsx)(a.f6,{theme:v,children:(0,i.jsx)(P,{data:t})})}function P(e){let{data:n}=e;return(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{children:"Sign up with Root"}),(0,i.jsx)("span",{className:"auth-heading",children:"Access blocked: Authorization Error"}),(0,i.jsx)(b,{children:(0,i.jsx)("span",{className:"tileEmail",children:"rohanb23@gmail.com"})}),(0,i.jsx)("div",{className:"auth-info",children:"The OAuth client was not found."}),(0,i.jsx)("div",{className:"auth-info",children:"Error 401: invalid_client"})]})}function _(e){let{setdisplay:n,setLoggedin:t}=e,[a,o]=(0,S.useState)({email:"",password:""}),[r,s]=(0,S.useState)(""),[l,c]=(0,S.useState)(""),[d,h]=(0,S.useState)();(0,S.useEffect)(()=>{let e=new URLSearchParams(window.location.search),n=e.get("redirect_uri"),t=e.get("client_id");h(e.get("state")),s(n),c(t)},[]);let u=e=>{o({...a,[e.target.name]:e.target.value})},p=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:8080/api/v1/signin",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.password,state:d})});e.ok?(await e.json(),t(!0)):(console.log("failed"),alert(e.message))}catch(e){console.log(e)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"Login"}),(0,i.jsxs)(m,{children:[(0,i.jsx)(w,{placeholder:"email",name:"email",onChange:u}),(0,i.jsx)(w,{placeholder:"password",name:"password",onChange:u}),(0,i.jsx)(j,{onClick:p,children:"Proceed"})]})]}),(0,i.jsx)(j,{onClick:()=>{n(2)},children:"Proceed"}),"this is button",(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"rohanb@gmail.com"})});e.ok&&console.log(await e.JSON())},children:" Click me"}),(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/login",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"rohankir@gmail.com"})});e.ok&&console.log(await e.JSON())},children:" Click me"}),(0,i.jsx)(j,{onClick:async()=>{let e=fetch("http://localhost:8080/getusers",{method:"POST",mode:"cors",credentials:"include"});e.ok&&console.log(await e.JSON())},children:" Click me"})]})}function N(e){let{handleSignup:n,setdisplay:t}=e,[a,o]=(0,S.useState)(1),r=()=>o(a+1),s=()=>{1==a?o(1):o(a-1)},[l,c]=(0,S.useState)(""),[d,h]=(0,S.useState)(""),[u,p]=(0,S.useState)(""),[y,b]=(0,S.useState)(""),[k,v]=(0,S.useState)(""),[C,P]=(0,S.useState)("");async function _(){try{let e=await fetch("http://localhost:8080/api/v1/signup",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,username:d,email:u,password:y})}),t=await e.json();e.ok||console.log(t),n(1),console.log(t)}catch(e){console.log(e)}}return(0,S.useEffect)(()=>{y!=k?P("password not matching"):y.length&&k.length&&P("password matched")},[k]),(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"SignUp"}),(0,i.jsxs)(m,{onSubmit:_,children:[a<=1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{placeholder:"name",onChange:e=>{c(e.target.value)},required:!0}),(0,i.jsx)(w,{placeholder:"username",onChange:e=>{h(e.target.value)},required:!0}),(0,i.jsx)(j,{type:"submit",onClick:r,children:"Next"}),(0,i.jsx)(j,{type:"submit",onClick:s,children:"Previous"})]}),2===a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{type:"email",placeholder:"email",onChange:e=>{p(e.target.value)},required:!0}),(0,i.jsx)(j,{type:"submit",onClick:r,children:"Next"}),(0,i.jsx)(j,{type:"submit",onClick:s,children:"Previous"})]}),3===a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{type:"password",placeholder:"password",onChange:e=>{b(e.target.value)},required:!0}),(0,i.jsx)(w,{type:"password",placeholder:"re-enter password",onChange:e=>{v(e.target.value)},required:!0}),(0,i.jsx)("span",{children:C}),(0,i.jsx)(j,{type:"submit",onClick:s,children:"Previous"}),(0,i.jsx)(j,{type:"submit",children:"Signup"})]})]})]})}function O(e){let{data:n}=e,t=(0,k.useRouter)(),a=new URLSearchParams(window.location.search).get("redirect_uri");console.log(a);let o=async e=>{if(a)try{let n=await fetch("http://localhost:8080/api/v1/getauthcode",{method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})});if(n.ok){let e=await n.json();window.location.href="".concat(a,"?").concat(new URLSearchParams({code:e}))}else alert("something went wrong")}catch(e){}else console.log("working"),t.push("/dashboard")};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{children:"Sign up with Root"}),(0,i.jsx)(x,{children:"Choose Account"}),(0,i.jsx)(y,{children:(0,i.jsxs)(b,{onClick:()=>{o(n)},children:[(0,i.jsx)("span",{className:"tileUsername",children:n.username}),(0,i.jsx)("span",{className:"tileEmail",children:n.email})]})})]})})}},4612:function(){}},function(e){e.O(0,[182,971,69,744],function(){return e(e.s=9878)}),_N_E=e.O()}]);